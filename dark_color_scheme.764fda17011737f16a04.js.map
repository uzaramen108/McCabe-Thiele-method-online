{"version":3,"file":"dark_color_scheme.764fda17011737f16a04.js","mappings":"kIAwDA,SAASA,EAAiBC,GACxBC,SAASC,gBAAgBC,QAAQH,YAAcA,EAC/C,MAAMI,EAAwBH,SAASI,cACrC,4BAE4B,OAA1BD,GAGFA,EAAsBE,aACpB,UACgB,SAAhBN,EA/DmB,UADC,UAmE1B,EA3DA,WACE,MAAMO,EAAkCC,MAAMC,KAC5CR,SAASS,uBAAuB,+BAE5BV,ECRD,CAACW,IACJ,IAAIC,EAAQ,KACZ,IACEA,EAAQC,aAAaC,QAAQH,EAC/B,CAAE,MAAOI,GACPC,QAAQC,MAAMF,EAChB,CACA,OAAOH,GDCWM,CAAwB,eAC5C,GAAoB,SAAhBlB,GAA0C,UAAhBA,EAC5BO,EAAgCY,QAASC,IAEvCA,EAAKC,QAA0B,SAAhBrB,IAEjBD,EAAiBC,OACZ,CACL,MAAMsB,EAA4BC,OAAOC,WACvC,gCACAC,QAKF1B,EAAiBuB,EAA4B,OAAS,SACtDf,EAAgCY,QAASC,IAEvCA,EAAKC,QAAUC,GAEnB,CACAf,EAAgCY,QAASC,IACvCA,EAAKM,iBAAiB,SAAU,KAE9B,MAAM1B,EAAcoB,EAAKC,QAAU,OAAS,QAC5CtB,EAAiBC,GClBhB,EAACW,EAAKC,KACT,IACEC,aAAac,QAAQhB,EAAKC,EAC5B,CAAE,MAAOG,GACPC,QAAQC,MAAMF,EAChB,GDcEG,CAAwB,cAAelB,GAEvCO,EAAgCY,QAASS,IACnCA,IAAYR,IAEdQ,EAAQP,QAAUD,EAAKC,cAKjC,CA7CAQ,E","sources":["webpack://mccabe-thiele-method-online/./src/resources/js/utils/dark_color_scheme.js","webpack://mccabe-thiele-method-online/./src/resources/js/utils/local_storage_wrapper.js"],"sourcesContent":["'use strict';\nimport { localStorageWrapper } from './local_storage_wrapper.js';\nconst THEME_COLOR_LIGHT = '#FFFFFF';\nconst THEME_COLOR_DARK = '#202124';\n\nsetUpDarkColorSchemeCheckbox();\n\n/**\n * Set up dark color scheme checkbox\n */\nfunction setUpDarkColorSchemeCheckbox() {\n  const darkColorSchemeCheckboxElements = Array.from(\n    document.getElementsByClassName('dark-color-scheme-checkbox')\n  );\n  const colorScheme = localStorageWrapper.get('colorScheme');\n  if (colorScheme === 'dark' || colorScheme === 'light') {\n    darkColorSchemeCheckboxElements.forEach((elem) => {\n      // @ts-ignore\n      elem.checked = colorScheme === 'dark';\n    });\n    applyColorScheme(colorScheme);\n  } else {\n    const doesPreferDarkColorScheme = window.matchMedia(\n      '(prefers-color-scheme: dark)'\n    ).matches;\n    // The following line is not for \"document.documentElement.dataset.colorScheme = colorScheme;\".\n    // document.documentElement.dataset.colorScheme is not needed to be set for displaying dark color scheme,\n    // since style.css has media query \"@media (prefers-color-scheme: dark)\" which deals with it without JavaScript.\n    // The following line is for setting theme color and etc...\n    applyColorScheme(doesPreferDarkColorScheme ? 'dark' : 'light');\n    darkColorSchemeCheckboxElements.forEach((elem) => {\n      // @ts-ignore\n      elem.checked = doesPreferDarkColorScheme;\n    });\n  }\n  darkColorSchemeCheckboxElements.forEach((elem) => {\n    elem.addEventListener('change', () => {\n      // @ts-ignore\n      const colorScheme = elem.checked ? 'dark' : 'light';\n      applyColorScheme(colorScheme);\n      localStorageWrapper.set('colorScheme', colorScheme);\n      // For syncing states of other checkbox elements\n      darkColorSchemeCheckboxElements.forEach((element) => {\n        if (element !== elem) {\n          // @ts-ignore\n          element.checked = elem.checked;\n        }\n      });\n    });\n  });\n}\n\n/**\n * Apply color scheme. (Display color scheme to the screen.)\n * @param {string} colorScheme 'dark' or 'light'\n */\nfunction applyColorScheme(colorScheme) {\n  document.documentElement.dataset.colorScheme = colorScheme;\n  const themeColorMetaElement = document.querySelector(\n    'meta[name=\"theme-color\"]'\n  );\n  if (themeColorMetaElement !== null) {\n    // The line below is for the status bar color, which is set by theme-color\n    // meta tag content, of PWA in Apple devices.\n    themeColorMetaElement.setAttribute(\n      'content',\n      colorScheme === 'dark' ? THEME_COLOR_DARK : THEME_COLOR_LIGHT\n    );\n  }\n}\n","export const localStorageWrapper = {\r\n  /**\r\n   * Get value corresponding to the key from localStorage\r\n   * @param {string} key\r\n   * @returns {string|null}\r\n   */\r\n  get: (key) => {\r\n    let value = null;\r\n    try {\r\n      value = localStorage.getItem(key);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return value;\r\n  },\r\n\r\n  /*\r\n   * Set key-value pair to the localStorage\r\n   * @param {string} key\r\n   * @param {string} value\r\n   */\r\n  set: (key, value) => {\r\n    try {\r\n      localStorage.setItem(key, value);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  },\r\n};\r\n"],"names":["applyColorScheme","colorScheme","document","documentElement","dataset","themeColorMetaElement","querySelector","setAttribute","darkColorSchemeCheckboxElements","Array","from","getElementsByClassName","key","value","localStorage","getItem","err","console","error","localStorageWrapper","forEach","elem","checked","doesPreferDarkColorScheme","window","matchMedia","matches","addEventListener","setItem","element","setUpDarkColorSchemeCheckbox"],"ignoreList":[],"sourceRoot":""}